(this["webpackJsonpcard-game"]=this["webpackJsonpcard-game"]||[]).push([[0],{40:function(e,t,c){},48:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(22),r=c.n(n),i=(c(40),c(21)),o=c(18),s=c(27),u=c.n(s),l=c(30),d=(c(48),c(1)),m=function(e){var t=e.card,c=e.handlChoice,a=e.flipped;return Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:a?"flipped":"",children:[Object(d.jsx)("img",{className:"front",src:"/cards/"+t.name,alt:"front"}),Object(d.jsx)("img",{className:"back",src:"/cards/back.jpg",onClick:function(){c(t)},alt:"back"})]})})},j=(c(50),Object(o.b)((function(e){return{choiceOne:e.choiceOne,choiceTwo:e.choiceTwo,datacard:e.cards,game:e.game,player:e.player}}),(function(e){return{shuffleCards:function(){e({type:"shuffle"})},actionHandlChoice:function(t){e({type:"handlChoice",card:t})},actionMatched:function(){e({type:"matched"})},actionResetTour:function(){e({type:"resetTour"})},actionNewgame:function(t){e({type:"newgame",game:t})},gamesend:function(t,c){return e(function(e,t){return function(){var c=Object(l.a)(u.a.mark((function c(a){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a({type:"matched"});case 2:e.emit("test",t);case 3:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(t,c))}}}))((function(e){e.datacard;var t=e.shuffleCards,c=e.actionHandlChoice,n=e.choiceOne,r=e.choiceTwo,o=e.actionMatched,s=e.actionResetTour,u=e.player,l=e.socket,j=e.game,h=(e.gamesend,Object(a.useState)([0,0,60])),b=Object(i.a)(h,2),f=Object(i.a)(b[0],3),p=f[0],O=f[1],g=f[2],y=b[1],v=function(){0===p&&0===O&&0===g?y([parseInt(0),parseInt(0),parseInt(60)]):(l.emit("getgame",{game:j._id,player:j.players[0]}),y([p,O,j.time]))};Object(a.useEffect)((function(){var e=setInterval((function(){return v()}),1e3);return function(){return clearInterval(e)}}));var w=function(e){c(e)},x=function(){s()};return Object(a.useEffect)((function(){n&&r&&(n.name===r.name?(o(),x()):setTimeout(x,1e3),l.emit("test",{game:j._id,choiceOne:n.name,choiceTwo:r.name}))}),[n,r]),Object(d.jsxs)("div",{className:"grid",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:u.name}),Object(d.jsx)("p",{children:"".concat(p.toString().padStart(2,"0"),":").concat(O.toString().padStart(2,"0"),":").concat(g.toString().padStart(2,"0"))})]}),Object(d.jsx)("button",{onClick:function(){t()},children:"shuffle"}),Object(d.jsx)("div",{className:"card-grid",children:j.cards.map((function(e){return Object(d.jsx)(m,{card:e,handlChoice:w,flipped:e===n||e===r||e.matched},e._id)}))})]})}))),h=(c(51),function(e){var t=e.socket,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1];return Object(d.jsx)("div",{className:"main",children:Object(d.jsxs)("div",{className:"panel",children:[Object(d.jsx)("input",{className:"panel-username",onChange:function(e){o(e.target.value)},type:"text",placeholder:"Your name.."}),Object(d.jsx)("button",{className:"panel-start",onClick:function(){t.emit("player",{name:r})},children:"start"})]})})}),b=c(35);var f=Object(o.b)((function(e){return{game:e.game}}),(function(e){return{actionNewgame:function(t){e({type:"newgame",game:t})},actionNewPlayer:function(t){e({type:"newPlayer",player:t})}}}))((function(e){var t=e.game,c=(e.player,e.actionNewgame),a=e.actionNewPlayer,n=Object(b.a)("http://app:3000");return n.on("newGame",(function(e){c(e.game)})),n.on("newPlayer",(function(e){console.log(e),a(e.player)})),Object(d.jsx)("div",{className:"App",children:t._id?Object(d.jsx)(j,{socket:n}):Object(d.jsx)(h,{socket:n})})})),p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,58)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))},O=c(24),g=c(2),y=c(28),v={cards:[{matched:!1,name:"A-P.jpg",_id:1},{matched:!1,name:"J-P.jpg",_id:2},{matched:!1,name:"10-P.jpg",_id:3},{matched:!1,name:"K-P.jpg",_id:4},{matched:!1,name:"Q-P.jpg",_id:5}],choiceOne:null,choiceTwo:null,player:{_id:null,name:null,flag:null,time:null,isplaying:null,score:null},game:{_id:null,time:null,cards:null,players:null}};var w=c(34),x=Object(O.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shuffle":var c=[].concat(Object(y.a)(e.cards),Object(y.a)(e.cards)).sort((function(){return Math.random()-.5})).map((function(e){return Object(g.a)(Object(g.a)({},e),{},{id:Math.random()})}));return Object(g.a)(Object(g.a)({},e),{},{cards:c});case"handlChoice":return e.choiceOne?Object(g.a)(Object(g.a)({},e),{},{choiceTwo:t.card}):Object(g.a)(Object(g.a)({},e),{},{choiceOne:t.card});case"matched":var a=e.game.cards.map((function(t){return t.name===e.choiceOne.name?Object(g.a)(Object(g.a)({},t),{},{matched:!0}):t}));return Object(g.a)(Object(g.a)({},e),{},{game:Object(g.a)(Object(g.a)({},e.game),{},{cards:a})});case"resetTour":return Object(g.a)(Object(g.a)({},e),{},{choiceOne:null,choiceTwo:null});case"newPlayer":return Object(g.a)(Object(g.a)({},e),{},{player:Object(g.a)(Object(g.a)({},e.player),t.player)});case"newgame":return Object(g.a)(Object(g.a)({},e),{},{game:t.game});default:return e}}),Object(O.b)(Object(O.a)(w.a)));r.a.render(Object(d.jsx)(o.a,{store:x,children:Object(d.jsx)(f,{})}),document.getElementById("root")),p()}},[[57,1,2]]]);
//# sourceMappingURL=main.1233322e.chunk.js.map